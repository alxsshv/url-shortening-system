# Сокращатель ссылок #
(только бекэнд)

Сокращатель предназначен для сокращения (замены) длинной оригинальной ссылки на короткую, более удобную для передачи в коротких сообщениях. 

Проект разработан в учебных целях для совершенстования своих навыков разработки микросервисов различной сложности.
Проект можно развернуть

## При разработке проекта использовалиь технологии: ##
- Java 21;
- Gradle 9+
- PostgreSQL
- Redis
- Prometheus
- GRAFANA (в т.ч. grafana, alloy, tempo, loki)
- Docker
- Postman (коллекции для тестирования прилагаются)

## Развертывание: ##
- Проект можно запустить через docker-compose используя команду в корне проекта команду ```docker-compose -f docker-compose-dev.yml up``` (микросервисы собираются из исходного кода проекта, разворачиваются контейнеры БД и средства observability);
- Развернуть инфраструктуру в docker используя команду ```docker-compose -f docker-compose-infrastructure.yml up```, запускать микросервисы используя среду разработки.
  
## Получение короткой ссылки ##
Для получения короткой ссылки необходимо направить POST запрос по адресу <http://localohost:8085/link> и передать в теле запроса оригинальную ссылку и (при необходимости) время жизни (time-to-live) короткой ссылки в формате длительности по ISO-8601.
Например:
```
{
    "url": "https://spring.io/",
    "ttl": "PT10M"
}
```
## Редирект по короткой ссылке ##
При переходе (выполнении GET запроса) по короткой ссылке, полученной в ответ на POST запрос, сокращатель перенаправит запрос по адресу оригинальной ссылки.

## Получение оригинальной ссылки ##
Для получения оригинальной ссылки (без редиректора) выполните GET запрос по адресу <http://localohost:8085/link/{уникальная_часть_короткой_ссылки}>

## Наблюдаемость ##
Средства observability доступны по ссылкам:
- [Prometheus](http://localhost:9090)
- [Grafana](http://localhost:3000)
